/* ---------- TOP NAV (desktop + mobile) ---------- */

.cs-nav {
    position: sticky;
    top: 0;
    z-index: 50;
    display: flex;
    align-items: center;
    gap: 18px;
    padding: 10px 16px;
    padding-top: calc(10px + env(safe-area-inset-top));
    backdrop-filter: blur(var(--cs-blur));
    background: var(--nav-bg);
    border-bottom: 1px solid var(--card-border);
    box-shadow: 0 10px 25px -20px var(--cs-shadow);
}

    /* shared link/button styling in the top bar */
    .cs-nav a,
    .cs-nav .nav-link,
    .cs-nav .cs-btn--link {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        padding: 6px 10px;
        border-radius: 10px;
        color: var(--nav-link);
        background: transparent;
        border: 0;
        cursor: pointer;
        transition: color .15s, text-shadow .15s, transform .15s;
        appearance: none;
        text-decoration: none;
    }

        .cs-nav a:visited {
            color: var(--nav-link);
        }

        .cs-nav a:hover,
        .cs-nav .nav-link:hover,
        .cs-nav .cs-btn--link:hover {
            color: var(--nav-link-hover);
            text-shadow: 0 0 8px var(--nav-link-glow);
            transform: translateY(-1px);
            text-decoration: none;
        }

        .cs-nav a:focus-visible,
        .cs-nav .nav-link:focus-visible,
        .cs-nav .cs-btn--link:focus-visible {
            outline: none;
            box-shadow: 0 0 0 2px var(--ring);
            text-decoration: none;
        }

    /* regular .cs-btn inside nav (used for theme toggle) */
    .cs-nav .cs-btn:not(.primary) {
        color: var(--nav-link);
        background: var(--btn-bg);
        border-color: var(--btn-border);
    }

        .cs-nav .cs-btn:not(.primary):hover {
            color: var(--nav-link-hover);
            border-color: var(--btn-hover-border);
            box-shadow: 0 0 0 1px var(--btn-hover-border);
        }

/* --- layout helpers for MainLayout nav --- */

.nav-brand {
    display: flex;
    align-items: center;
    gap: 10px;
}

.nav-spacer {
    flex: 1 1 auto;
}

.nav-links {
    display: flex;
    align-items: center;
    gap: 10px;
    flex-wrap: wrap;
}

.nav-theme {
    white-space: nowrap;
}

/* ---------- BOTTOM NAV (mobile tab bar) ---------- */

.cs-bottom-nav {
    position: fixed;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: 40;
    display: none; /* hidden by default, shown via media query */
    justify-content: space-around;
    align-items: center;
    padding: 6px 8px;
    padding-bottom: calc(6px + env(safe-area-inset-bottom));
    background: linear-gradient(180deg, rgba(10,12,18,0.96), rgba(7,9,15,0.98));
    border-top: 1px solid var(--card-border);
    box-shadow: 0 -10px 28px -18px var(--cs-shadow);
}

    /* each NavLink in the bottom bar */
    .cs-bottom-nav .bottom-nav-item {
        flex: 1 1 0;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        gap: 2px;
        padding: 4px 2px;
        text-decoration: none;
        color: var(--muted);
        opacity: 0.9;
        font-size: 11px;
    }

        .cs-bottom-nav .bottom-nav-item .icon {
            width: 22px;
            height: 22px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }

            /* SVGs use currentColor so they follow the text color */
            .cs-bottom-nav .bottom-nav-item .icon svg {
                width: 20px;
                height: 20px;
                display: block;
                stroke: currentColor;
            }

        .cs-bottom-nav .bottom-nav-item .label {
            font-size: 11px;
            letter-spacing: 0.3px;
        }

        /* active tab highlight */
        .cs-bottom-nav .bottom-nav-item.active,
        .cs-bottom-nav .bottom-nav-item.active:visited {
            color: var(--cs-amber); /* bright orange */
            opacity: 1;
        }

/* ---------- Light-theme tweaks for bottom nav ---------- */

html[data-theme="light"] .cs-bottom-nav {
    background: linear-gradient(180deg, #f8fafc, #e4ecfb);
    border-top-color: rgba(15,23,42,.18);
}

    html[data-theme="light"] .cs-bottom-nav .bottom-nav-item {
        color: #4b5563;
    }

        html[data-theme="light"] .cs-bottom-nav .bottom-nav-item.active {
            color: var(--nav-link);
        }

/* ---------- Responsive nav behaviour ---------- */

/* phones & small tablets: hide text links, show bottom bar */
@media (max-width: 720px) {
    .cs-nav {
        gap: 10px;
        padding: 8px 10px;
        padding-top: calc(8px + env(safe-area-inset-top));
    }

    .nav-brand {
        flex: 1 1 auto;
        min-width: 0;
    }

    .nav-spacer {
        flex-basis: 0;
        flex-grow: 0;
    }

    /* keep theme toggle but hide text nav links */
    .nav-links {
        display: none;
    }

    .nav-theme {
        padding: 6px 10px;
        font-size: 13px;
        border-radius: 10px;
    }

    .cs-nav .cs-badge img {
        width: 22px;
        height: 22px;
    }

    .cs-nav .cs-title {
        font-size: 18px;
    }

    .cs-bottom-nav {
        display: flex; /* bottom tabs visible on mobile */
    }
}

/* very narrow devices: slight tightening */
@media (max-width: 420px) {
    .cs-bottom-nav .bottom-nav-item .icon {
        width: 20px;
        height: 20px;
    }

    .cs-bottom-nav .bottom-nav-item .label {
        font-size: 10px;
    }
}
