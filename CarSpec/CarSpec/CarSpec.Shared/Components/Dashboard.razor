@page "/dashboard"
@using CarSpec.Shared.Models
@inject CarSpec.Shared.Services.ObdConnectionService ObdService

<h1 class="text-3xl font-bold mb-4">🚗 CarSpec Dashboard</h1>

@if (carData is null)
{
	<p>No data yet. Connect to OBD adapter to begin.</p>
}
else
{
	<div class="grid grid-cols-2 gap-4">
		<div>Speed: @carData.Speed mph</div>
		<div>RPM: @carData.RPM</div>
		<div>Throttle: @carData.ThrottlePercent %</div>
		<div>Fuel Level: @carData.FuelLevelPercent %</div>
		<div>Oil Temp: @carData.OilTempF °F</div>
		<div>Coolant Temp: @carData.CoolantTempF °F</div>
		<div>Intake Air: @carData.IntakeTempF °F</div>
		<div>Last Updated: @carData.LastUpdated</div>
	</div>
}

@code {
	private CarData? carData;

	protected override async Task OnInitializedAsync()
	{
		// For now, simulate fake data
		await Task.Delay(500);
		carData = new CarData
		{
			Speed = 0,
			RPM = 750,
			ThrottlePercent = 2.5,
			FuelLevelPercent = 55.0,
			OilTempF = 200,
			CoolantTempF = 185,
			IntakeTempF = 72
		};
	}
}
